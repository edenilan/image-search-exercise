
<div class="results-container">
  @if (isEmptyState()) {
    <h2 class="empty-state-message">Nope, try again</h2>
  }
  @if (isLoadingState()) {
    <h2 class="empty-state-message">Just a sec...</h2>
  }
  @if (isErrorState()) {
    <error-state></error-state>
  }
  <cdk-virtual-scroll-viewport itemSize="100">
    <div *cdkVirtualFor="let result of dataSourceService; trackBy: trackByResultId"  class="image-thumbnail-container">
      <div class="single-result-container"
           (mouseenter)="onMouseEnterResult(result)" (mouseleave)="onMouseLeaveResult()">
        <img [src]="result.previewURL" (click)="onResultClicked(result)">
        <div class="extra-info">
          @if (hoveredResult() === result.id) {
            <div class="tags-container">
              @for (tag of result.tags.split(','); track tag) {
                <span class="capsule tag"> {{tag}} </span>
              }
            </div>
          }
          @if (result.annotations != null && result.annotations.length > 0) {
            <div class="capsule has-annotation-indicator">âœŽ annotated</div>
          }
        </div>
      </div>
    </div>
  </cdk-virtual-scroll-viewport>
</div>
